webpackJsonp([1],{CuRo:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},o=r("VU/8")({name:"App"},i,!1,null,null,null).exports,s=r("/ocq"),a=r("mtWM"),l=r.n(a).a.create({baseURL:"http://localhost:8081",headers:{"Access-Control-Allow-Origin":"http//ppr.surreal.is:8080","Content-Type":"application/json"}}),u={data:function(){return{response:[],errors:[]}},created:function(){var t=this;this.loading=!0,l.get("http://ppr.surreal.is:8080/rest/user/").then(function(e){t.response=e.data,t.loading=!1}).catch(function(){t.loading=!1})}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("User list")]),t._v(" "),r("tbody",[t._m(0),t._v(" "),t._l(t.response,function(e){return r("tr",[r("td",[t._v(t._s(e.username))]),t._v(" "),r("td",[t._v(t._s(e.email))]),t._v(" "),r("td",[t._v(t._s(e.roles))]),t._v(" "),r("td",[r("router-link",{attrs:{to:{name:"SingleUser",params:{id:e.id}}}},[t._v("\n        Show profile\n      ")])],1)])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("User ID")]),this._v(" "),e("th",[this._v("Username")]),this._v(" "),e("th",[this._v("Email address")]),this._v(" "),e("th",[this._v("Roles")])])}]},c=r("VU/8")(u,p,!1,null,null,null).exports,d={data:function(){return{response:[],errors:[],loading:!1}},created:function(){var t=this;this.loading=!0,l.get("http://ppr.surreal.is:8080/rest/userdetails/"+this.$route.params.id).then(function(e){t.response=e.data,t.loading=!1}).catch(function(){t.loading=!1})}},v={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("User details for user "+t._s(t.$route.params.id))]),t._v(" "),r("tbody",[r("tr",[r("th",[t._v("First Name")]),t._v(" "),r("td",[t._v(t._s(t.response.firstname))])]),t._v(" "),r("tr",[r("th",[t._v("Last Name")]),t._v(" "),r("td",[t._v(t._s(t.response.lastname))])]),t._v(" "),r("tr",[r("th",[t._v("Username")]),t._v(" "),r("td",[t._v(t._s(t.response.id))])]),t._v(" "),r("tr",[r("th",[t._v("Email address")]),t._v(" "),r("td",[t._v(t._s(t.response.id))])]),t._v(" "),r("tr",[r("th",[t._v("Birthday")]),t._v(" "),r("td",[t._v(t._s(t.response.birthday))])])])])},staticRenderFns:[]},_=r("VU/8")(d,v,!1,null,null,null).exports,h={data:function(){return{response:[],errors:[]}},created:function(){var t=this;this.loading=!0,l.get("http://ppr.surreal.is:8080/rest/operation/",{headers:{Authorization:"Bearer "+this.$store.getters.userToken}}).then(function(e){t.response=e.data,t.loading=!1}).catch(function(){t.loading=!1})}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Operation list")]),t._v(" "),r("router-view"),t._v(" "),r("tbody",[t._m(0),t._v(" "),t._l(t.response,function(e){return r("tr",[r("td",[t._v(t._s(e.title))]),t._v(" "),r("td",[t._v(t._s(e.date))]),t._v(" "),r("td",[t._v(t._s(e.publicdescription))]),t._v(" "),r("td",[t._v(t._s(e.location))]),t._v(" "),r("td",[r("router-link",{attrs:{to:{name:"SingleOperation",params:{id:e.id}}}},[t._v("\n        details\n      ")])],1)])})],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",[t._v("Title")]),t._v(" "),r("th",[t._v("Date")]),t._v(" "),r("th",[t._v("Public description")]),t._v(" "),r("th",[t._v("Location")]),t._v(" "),r("th",[t._v("More")])])}]},g=r("VU/8")(h,m,!1,null,null,null).exports,f={data:function(){return{response:[],errors:[],loading:!1}},created:function(){var t=this;this.loading=!0,l.get("http://ppr.surreal.is:8080/rest/operation/"+this.$route.params.id).then(function(e){t.response=e.data,t.loading=!1}).catch(function(){t.loading=!1})}},w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Detail page for "+t._s(t.response.title))]),t._v(" "),r("tbody",[r("tr",[r("th",[t._v("Title")]),t._v(" "),r("td",[t._v(t._s(t.response.title))])]),t._v(" "),r("tr",[r("th",[t._v("Date")]),t._v(" "),r("td",[t._v(t._s(t.response.date))])]),t._v(" "),r("tr",[r("th",[t._v("Location")]),t._v(" "),r("td",[t._v(t._s(t.response.location))])]),t._v(" "),r("tr",[r("th",[t._v("Public description")]),t._v(" "),r("td",[t._v(t._s(t.response.publicdescription))])]),t._v(" "),r("tr",[r("th",[t._v("Private Description")]),t._v(" "),r("td",[t._v(t._s(t.response.privatedescription))])])]),t._v(" "),r("h2",[t._v("Equipment")]),t._v(" "),r("tbody",[t._m(0),t._v(" "),t._l(t.response.equipmentById,function(e){return r("tr",[r("td",[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),r("td",[t._v("\n      "+t._s(e.description)+"\n    ")])])})],2),t._v(" "),r("h2",[t._v("Helpers")]),t._v(" "),r("tbody",[t._m(1),t._v(" "),t._l(t.response.helpersById,function(e){return r("tr",[r("td",[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),r("td",[t._v("\n      "+t._s(e.description)+"\n    ")])])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("\n      Title\n    ")]),this._v(" "),e("th",[this._v("\n      Description\n    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("\n      Title\n    ")]),this._v(" "),e("th",[this._v("\n      Description\n    ")])])}]},b=r("VU/8")(f,w,!1,null,null,null).exports,$={data:function(){return{errors:[],login:{username:null,password:null}}},methods:{checkForm:function(t){var e=this;if(this.login.username&&this.login.password){var r=new FormData;return r.set("username",this.login.username),r.set("password",this.login.password),l({method:"post",url:"http://ppr.surreal.is:8080/public/users/register/",data:r,config:{headers:{"Content-Type":"application/x-www-form-urlencoded"}}}).then(function(t){l.get("http://ppr.surreal.is:8080/users/current/",{headers:{Authorization:"Bearer "+t.data}}).then(function(t){e.$store.dispatch("login",t.data).then(function(){e.$router.push({name:"Home"})})})}),!0}return this.errors=[],this.login.username||this.errors.push("Username required."),this.login.password||this.errors.push("Password required."),t.preventDefault(),!1}}},x={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.errors.length?r("p",[r("b",[t._v("Please correct the following error(s):")]),t._v(" "),r("ul",{staticClass:"error-list"},t._l(t.errors,function(e){return r("li",{staticClass:"error-list-item"},[t._v(t._s(e))])}))]):t._e(),t._v(" "),r("p",[r("label",{attrs:{for:"username"}},[t._v("User:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.login.username,expression:"login.username"}],attrs:{id:"username",placeholder:"Username"},domProps:{value:t.login.username},on:{input:function(e){e.target.composing||t.$set(t.login,"username",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"password"}},[t._v("Password:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{id:"password",type:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),t._v(" "),r("p",[r("button",{on:{click:t.checkForm}},[t._v("Submit")])])])},staticRenderFns:[]},L=r("VU/8")($,x,!1,null,null,null).exports,U={data:function(){return{errors:[],registration:{username:null,password:null}}},methods:{checkForm:function(t){var e=this;return this.registration.username&&this.registration.password?(l.post("http://ppr.surreal.is:8080/public/users/register/",this.registration).then(function(){e.loading=!1,e.$router.push({name:"OperationList"})}).catch(function(){e.loading=!1}),!0):(this.errors=[],this.registration.username||this.errors.push("Username required."),this.registration.password||this.errors.push("Password required."),t.preventDefault(),!1)}}},P={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.errors.length?r("p",[r("b",[t._v("Please correct the following error(s):")]),t._v(" "),r("ul",{staticClass:"error-list"},t._l(t.errors,function(e){return r("li",{staticClass:"error-list-item"},[t._v(t._s(e))])}))]):t._e(),t._v(" "),r("p",[r("label",{attrs:{for:"username"}},[t._v("User:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.username,expression:"registration.username"}],attrs:{id:"username",placeholder:"Username"},domProps:{value:t.registration.username},on:{input:function(e){e.target.composing||t.$set(t.registration,"username",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"password"}},[t._v("Password:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.password,expression:"registration.password"}],attrs:{id:"password",type:"password"},domProps:{value:t.registration.password},on:{input:function(e){e.target.composing||t.$set(t.registration,"password",e.target.value)}}})]),t._v(" "),r("p",[r("button",{on:{click:t.checkForm}},[t._v("Submit")])])])},staticRenderFns:[]},S=r("VU/8")(U,P,!1,null,null,null).exports,k=r("VU/8")(null,null,!1,null,null,null).exports,I={data:function(){return{errors:[],operation:{title:null,date:null,publicdescription:null,privatedescription:null,location:null}}},methods:{checkForm:function(t){var e=this;return this.operation.title&&this.operation.date&&this.operation.publicdescription&&this.operation.privatedescription&&this.operation.location?(l.post("http://ppr.surreal.is:8080/rest/operation/",this.operation,{headers:{Authorization:"Bearer "+this.$store.getters.userToken}}).then(function(t){e.loading=!1,e.$router.push({name:"SingleOperation",params:{id:t.headers.location.slice(t.headers.location.lastIndexOf("/")+1)},headers:{Authorization:"Bearer "+e.$store.getters.userToken}})}).catch(function(){e.loading=!1}),!0):(this.errors=[],this.operation.title||this.errors.push("Title required."),this.operation.date||this.errors.push("Date required."),this.operation.publicdescription||this.errors.push("Public description required."),this.operation.privatedescription||this.errors.push("Private description required."),this.operation.location||this.errors.push("Location required."),t.preventDefault(),!1)}}},O={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.errors.length?r("p",[r("b",[t._v("Please correct the following error(s):")]),t._v(" "),r("ul",{staticClass:"error-list"},t._l(t.errors,function(e){return r("li",{staticClass:"error-list-item"},[t._v(t._s(e))])}))]):t._e(),t._v(" "),r("p",[r("label",{attrs:{for:"title"}},[t._v("Title:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.operation.title,expression:"operation.title"}],attrs:{id:"title",placeholder:"Title"},domProps:{value:t.operation.title},on:{input:function(e){e.target.composing||t.$set(t.operation,"title",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"date"}},[t._v("Date:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.operation.date,expression:"operation.date"}],attrs:{id:"date",type:"date"},domProps:{value:t.operation.date},on:{input:function(e){e.target.composing||t.$set(t.operation,"date",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"publicdescription"}},[t._v("Public description:")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.operation.publicdescription,expression:"operation.publicdescription"}],attrs:{id:"publicdescription",placeholder:"Public description"},domProps:{value:t.operation.publicdescription},on:{input:function(e){e.target.composing||t.$set(t.operation,"publicdescription",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"privatedescription"}},[t._v("Private description:")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.operation.privatedescription,expression:"operation.privatedescription"}],attrs:{id:"privatedescription",placeholder:"Private description"},domProps:{value:t.operation.privatedescription},on:{input:function(e){e.target.composing||t.$set(t.operation,"privatedescription",e.target.value)}}})]),t._v(" "),r("p",[r("label",{attrs:{for:"location"}},[t._v("Location:")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.operation.location,expression:"operation.location"}],attrs:{id:"location",placeholder:"Location"},domProps:{value:t.operation.location},on:{input:function(e){e.target.composing||t.$set(t.operation,"location",e.target.value)}}})]),t._v(" "),r("p",[r("button",{on:{click:t.checkForm}},[t._v("Submit")])])])},staticRenderFns:[]},y=r("VU/8")(I,O,!1,null,null,null).exports,E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{attrs:{to:{name:"Login"}}},[this._v("\n      Login\n    ")]),this._v(" "),e("router-link",{attrs:{to:{name:"Registration"}}},[this._v("\n      Registration\n    ")])],1)},staticRenderFns:[]},N=r("VU/8")(null,E,!1,null,null,null).exports,F={methods:{vuexLogout:function(){var t=this;l.get().then(function(){t.$store.dispatch("logout").then(function(){t.$router.push({name:"Home"})})})}},computed:{vuexIsLoggedIn:function(){return this.$store.getters.isLoggedIn},vuexUser:function(){var t=this.$store.getters.userdata;return t.username?t.username:null}}},C={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",{staticStyle:{float:"left"}},[r("router-link",{attrs:{to:{name:"Home"}}},[t._v("\n      home\n    ")])],1),t._v(" "),r("li",{staticStyle:{float:"left"}},[r("router-link",{attrs:{to:{name:"OperationList"}}},[t._v("\n      browse operations\n    ")])],1),t._v(" "),r("li",{staticStyle:{float:"left"}},[r("router-link",{attrs:{to:{name:"OperationCreation"}}},[t._v("\n      create operation\n    ")])],1),t._v(" "),r("li",{staticStyle:{float:"right"}},[r("div",[t.vuexIsLoggedIn?t._e():r("span",[r("router-link",{attrs:{"router-link":"",to:"/login"}},[t._v("Login")])],1),t._v(" "),t.vuexIsLoggedIn?r("div",[r("span",{staticClass:"menu-text"},[t._v("You are logged in as "),r("i",[t._v(t._s(t.vuexUser))])]),t._v(" "),r("a",{staticClass:"menu-button",attrs:{href:"#"},on:{click:t.vuexLogout}},[t._v("Logout")])]):t._e()])])])},staticRenderFns:[]},R={components:{Navigation:r("VU/8")(F,C,!1,null,null,null).exports}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app-layout"}},[e("Navigation"),this._v(" "),e("h1",[this._v("Application")]),this._v(" "),e("router-view")],1)},staticRenderFns:[]},A=r("VU/8")(R,T,!1,null,null,null).exports;n.a.use(s.a);var D,q=new s.a({routes:[{path:"/",name:"layout",component:A,children:[{path:"/login",name:"Login",component:L,meta:{noAuth:!0}},{path:"/register",name:"Registration",component:S,meta:{noAuth:!0}},{path:"/home",name:"Home",component:N,meta:{noAuth:!0}},{path:"/user",name:"UserList",component:c},{path:"/user/:id",name:"SingleUser",component:_},{path:"/operation",name:"OperationList",component:g,children:[{path:"create",name:"OperationCreation",component:y}]},{path:"/operation/:id",name:"SingleOperation",component:b,children:[{path:"delete",name:"SingleOperationDeletion",component:k}]}]}]}),V=r("mvHQ"),H=r.n(V),B=r("//Fk"),G=r.n(B),z=r("bOdI"),M=r.n(z),j=r("NYxO");n.a.use(j);var J=new j.Store({state:{isLoggedIn:!!localStorage.getItem("userdata"),userdata:JSON.parse(localStorage.getItem("userdata")),pending:!1},mutations:(D={},M()(D,"LOGIN",function(t,e){t.pending=!0,t.userdata=e}),M()(D,"LOGIN_SUCCESS",function(t){t.isLoggedIn=!0,t.pending=!1}),M()(D,"LOGOUT",function(t){t.isLoggedIn=!1,t.userdata=null}),D),actions:{login:function(t,e){var r=t.commit;return r("LOGIN",e),new G.a(function(t){setTimeout(function(){localStorage.setItem("userdata",H()(e)),r("LOGIN_SUCCESS"),t()},1e3)})},logout:function(t){var e=t.commit;localStorage.removeItem("userdata"),e("LOGOUT")}},getters:{isLoggedIn:function(t){return t.isLoggedIn},userdata:function(t){return t.userdata},userToken:function(t){return t.userdata.id},username:function(t){return t.userdata.username}}});r("CuRo"),n.a.config.productionTip=!1,q.beforeEach(function(t,e,r){var n=t.matched.some(function(t){return t.meta.noAuth}),i=!!J.state.userdata;n||i?r():r("/login")}),new n.a({store:J,el:"#app",router:q,components:{App:o},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.1c7101c8ceed46e2c993.js.map